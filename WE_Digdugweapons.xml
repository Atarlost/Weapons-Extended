<?xml version="1.0" encoding="utf-8"?>

	
	
	
	


<TranscendenceModule>





<!-- Virtual sound used by the DoomsDay Thermocannon -->

<ItemType UNID="&vtThermoCannonVirtualBeep;"
      name=            "virtual sound"
      virtual=         "true"
      level=            "25"
      >

   <Weapon
         type=            "missile"
         damage=            "kinetic:0"
         >

      <Fragment
            count=         "1"
            type=         "radius"
            damage=         "kinetic:0"
            >
			<Effect>
   <Image imageID="&rsMediumExplosions;"
      imageX="0"
      imageY="0"
      imageWidth="0"
      imageHeight="0"
      />
</Effect> 
      </Fragment>

      <HitEffect
            sound="&snThermocannonBeep;"
            >
         
		<Image imageID="&rsMediumExplosions;" 
				imageX="0" 
				imageY="0" 
				imageWidth="0" 
				imageHeight="0"
				/>
	
      </HitEffect>
      
   </Weapon>

</ItemType> 


	<ItemType UNID="&itBurstTurbolaser;"
			name=				"Burst Turbolaser Cannon"
			level=				"4"
			value=				"6500"
			mass=				"4500"
			frequency=			"rare"
			attributes=			"EnergyWeapon; MajorItem; DigdugWeapons; EI; Laser"
			unknownType=		"&itUnknownLaserWeapon3;"
			description=		"This custom fast fire laser cannon has a supplementary huge Capacitor, enabling the gun to reach blinding fire-rates, however only for a short time"
			>

		<Image imageID="&rsItemsEI1;" imageX="288" imageY="96" imageWidth="96" imageHeight="96"/>

		<Weapon
				type=				"beam"

				damage=				"laser:3d4+1"
				fireRate=			"4"
				lifetime=			"30"
				powerUse=			"140"

				counter=			"capacitor"
				counterActivate=		"-5"
				counterUpdate=		"2"
				counterUpdateRate=	"6"

				hitEffect=			"&efGreenLaserHitEffect;"
				sound=				"&snLaserCannon;"
				>
			<Effect>
				<Beam
						beamType=			"laser"
						primaryColor=		"0x68, 0xac, 0x70"
						secondaryColor=		"0x00, 0xac, 0x00"
						/>
			</Effect>
		</Weapon>


		</ItemType>	

<!-- Omnidirectional Laser Array -->

	<ItemType UNID="&itOmniArray;"
			name=				"Omni laser cannon array"
			level=				"4"
			value=				"5400"
			mass=				"5500"
			frequency=			"rare"
			attributes=			"EnergyWeapon; MajorItem; DigdugWeapons; EI; omniweapon; Laser"
			unknownType=		"&itUnknownLaserWeapon3;"
			description=		"The laser cannon array consists of three laser cannons with linked fire controls arranged in a forward spread pattern. This version is mounted on a omnidirectional turret."
			>

		<Image imageID="&rsItemsEI2;" imageX="96" imageY="96" imageWidth="96" imageHeight="96"/>

		<Weapon
				type=				"beam"
				omnidirectional=		"true"				
				damage=				"laser:1d4"
				fireRate=			"12"
				lifetime=			"30"
				powerUse=			"60"

	sound=				"&snLaserCannon;"
				>
			<Effect>
				<Beam
						beamType=			"laser"
						primaryColor=		"0xf1, 0x5f, 0x2a"
						secondaryColor=		"0xff, 0x00, 0x00"
						/>
			</Effect>
					
				<Configuration aimTolerance="5">
				    <Shot posAngle="0" posRadius="0" angle="0"/>
				    <Shot posAngle="0" posRadius="0" angle="-1"/>
				    <Shot posAngle="0" posRadius="0" angle="1"/>
		
				</Configuration>
		</Weapon>

	</ItemType>


<!-- Dual Repeating Recoilless Cannon -->

	<ItemType UNID="&itDualTribarrelRecoilless;"
			name=				"dual recoilless tribarrel cannon"
			level=				"4"
			value=				"3500"
			mass=				"7000"
			frequency=			"rare"
			attributes=			"MajorItem; DigdugWeapons; Cannon"
		
			unknownType=		"&itUnknownKineticCannon3;"
			description=		"This custom dual Recoiless weapon has 3 barrels for each cannon, however this extreme configuration leave no space for the heat sinks, and the weapon overheat easily."
			sortName=			"recoilless cannon, dual, repeating"
			>

		<Image imageID="&rsItemsNAMI1;" imageX="192" imageY="192" imageWidth="96" imageHeight="96"/>

		<Weapon
				type=				"missile"

				configuration=		"dual"
				repeating=			"2"
				damage=				"kinetic:1d6+2; momentum2"
				fireRate=			"20"
				missileSpeed=		"40"
				lifetime=			"60"
				powerUse=			"50"
				interaction=		"60"

				
				counter=			"temperature"
				counterActivate=	"1"
				counterUpdate=		"-1"
				counterUpdateRate=	"6"


				sound=				"&snRecoillessCannon;"
				>

			<Effect>
				<Image imageID="&rsMissiles;" imageX="0" imageY="0" imageWidth="16" imageHeight="16" imageFrameCount="0" imageTicksPerFrame="0"/>
			</Effect>

		</Weapon>
		<Events>
			<OnAIUpdate>
				(if (itmIsDamaged gItem)
					(shpRepairItem gSource gItem)
				)
			</OnAIUpdate>
		</Events>
	</ItemType>


<!-- Stellar Cannon -->

	<ItemType UNID="&itStellarCannon;"
			name=				"stellar cannon"
			level=				"2"
			value=				"1300"
			mass=				"10000"
			frequency=			"rare"
			attributes=			"MajorItem; DigdugWeapons; Cannon; NotForSale"
		
			unknownType=		"&itUnknownKineticCannon;"
			description=		"4 recoiless cannons are mounted on a fixed turret. Each one pointing at 90 deegrees from the other. This is an old weapon with little use today."
			>

		<Image imageID="&rsItems1;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>

		<Weapon
				type=				"missile"

				damage=				"kinetic:1d6+1; momentum1"
				fireRate=			"15"
				missileSpeed=		"40"
				lifetime=			"40"
				powerUse=			"25"
				interaction=		"80"

				sound=				"&snRecoillessCannon;"
				>
				<Configuration aimTolerance="5">
				<Shot posAngle="0" posRadius="0" angle="0"/>
				<Shot posAngle="0" posRadius="0" angle="-180"/>
				<Shot posAngle="0" posRadius="0" angle="-90"/>
				<Shot posAngle="0" posRadius="0" angle="90"/>

			</Configuration>

			<Effect>
				<Image imageID="&rsMissiles;" imageX="0" imageY="0" imageWidth="16" imageHeight="16" imageFrameCount="0" imageTicksPerFrame="0"/>
			</Effect>

		</Weapon>

	</ItemType>


<!-- Adv Stellar Cannon -->

	<ItemType UNID="&itAdvStellarCannon;"
			name=				"Advanced stellar cannon"
			level=				"7"
			value=				"60000"
			mass=				"12000"
			frequency=			"rare"
			attributes=			"EnergyWeapon; MajorItem; DigdugWeapons; Military; Particle"
		
			unknownType=		"&itUnknownParticleCannon4;"
			description=		"8 very short range particle cannons are mounted around a fixed turret, creating a devastating weapon, however the excessive number of linear accelerators makes the weapon very heavy and power demanding."
			>

		<Image imageID="&rsItems1;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>


		<Weapon
				type=				"beam"

				damage=				"particle:1d8+1"
				fireRate=			"10"
				lifetime=			"12"
				powerUse=			"1500"

sound=				"&snLaserCannon;"
				>
			<Effect>
				<Beam
						beamType=		"particle"
						primaryColor=	"0x5f, 0xf1, 0x2a"
						secondaryColor=	"0x5f, 0xf1, 0x2a"
						intensity=		"1"
						/>
			</Effect>

				<Configuration aimTolerance="5">
				<Shot posAngle="0" posRadius="0" angle="0"/>
				<Shot posAngle="0" posRadius="0" angle="-45"/>
				<Shot posAngle="0" posRadius="0" angle="45"/>
				<Shot posAngle="0" posRadius="0" angle="-135"/>
				<Shot posAngle="0" posRadius="0" angle="135"/>
				<Shot posAngle="0" posRadius="0" angle="-180"/>
				<Shot posAngle="0" posRadius="0" angle="-90"/>
				<Shot posAngle="0" posRadius="0" angle="90"/>

			</Configuration>

			

		</Weapon>
		<Events>
			<onFireWeapon>
				(block (targetlist)
					(setq targetlist (filter (append (sysfindobject gsource "sTAEN:24") aTargetObj) target 
						(ls 
							(abs 
								(subtract 
									(sysCalcFireSolution 
										(sysVectorSubtract (objGetPos target) (objGetPos gsource)) 
										(objGetVel target) 
										(typGetDataField aWeaponType "speed")
									) 
									aFireAngle
								)
							) 
						7
						)
					))
					(if (item targetlist 0) nil true)
				)
			</onFireWeapon>
		</Events>
	</ItemType>


<!-- Explosive Recoilless Cannon -->

	<ItemType UNID="&itExpRecoillessCannon;"
			name=				"Explosive recoilless cannon"
			level=				"5"
			value=				"5000"
			mass=				"3500"
			frequency=			"uncommon"
			attributes=			"MajorItem; DigdugWeapons; Cannon; NAMI"
		
			unknownType=		"&itUnknownKineticCannon4;"
			description=		"Each shard of this custom recoilless cannon has a small hexagene charge in it. It's less powerful than a real blast weapon, but much cheaper."
			>

		<Image imageID="&rsItemsNAMI1;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>
	
		<Weapon
				type=				"missile"

				damage=				"kinetic:1d6+1; momentum1"
				fireRate=			"15"
				missileSpeed=		"40"
				lifetime=			"60"
				interaction=		"50"
				powerUse=			"150"
				fireEffect=			"&efMediumCannonFlash;"

				sound=				"&snRecoillessCannon;"
				>
				<Fragment
							count=			"3d6"
							type=			"missile"
							lifetime=		"8"
							damage=			"blast:1d6+3; WMD3"
							missileSpeed=	"10-60"
							>
						<Image imageID="&rsMissiles;" imageX="3" imageY="0" imageWidth="16" imageHeight="16" imageFrameCount="0" imageTicksPerFrame="0"/>
					</Fragment>

			<Effect>
				<Image imageID="&rsMissiles;" imageX="0" imageY="0" imageWidth="16" imageHeight="16" imageFrameCount="0" imageTicksPerFrame="0"/>
			</Effect>


							
		</Weapon>

	</ItemType>


<!-- Multitarget Laser -->

	<ItemType UNID="&itmultilaser;"
			name=				"LA50 multicannon laser"
			level=				"5"
			value=				"15000"
			mass=				"9000"
			frequency=			"rare"
			attributes=			"EnergyWeapon; MajorItem; DigdugWeapons; Military; Laser; OmniWeapon"
			unknownType=		"&itUnknownLaserWeapon4;"
			description=		"5 indipendently targeting lasers are built into this weapon pod, this is one of the strongest laser weapon ever built."
			>

		<Image imageID="&rsItemsEI1;" imageX="288" imageY="96" imageWidth="96" imageHeight="96"/>

		<Weapon
				configuration=		"spread5"
				omnidirectional=	"true"
				multiTarget=		"true"
				powerUse=			"300"
				
				type=				"beam"
				damage=				"laser:2d4; WMD1"
				fireRate=			"15"
				lifetime=			"30"

				sound=				"&snLaserCannon;"
				>
			<Effect>
				<Beam
						beamType=			"laser"
						primaryColor=		"0xff, 0x5f, 0x2a"
						secondaryColor=		"0xff, 0x00, 0x00"
						/>
			</Effect>
		</Weapon>

	</ItemType>

<!-- Plasma welder -->

	<ItemType UNID="&itPlasmawelder;"
			name=				"plasma welder"
			level=				"1"
			value=				"500"
			mass=				"1000"
			frequency=			"common"
			showReference=		"true"
			attributes=			"EnergyWeapon; MajorItem; DigdugWeapons; Plasma; EI"
			unknownType=		"&itUnknownPlasmaWeapon3;"
			description=		"This is not really a weapon, it's just a welder used to build space station."
			>

		<Image imageID="&rsItems1;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>

		<Weapon
				type=				"missile"
				
				damage=				"plasma:1d3; WMD1"
				fireRate=			"20"
				missileSpeed=		"24"
				lifetime=			"24"
				powerUse=			"10"
				hitPoints=			"2"

				sound=				"&snLaserCannon;"
				
				vaporTrailLength=	"24"
				vaporTrailWidth=	"50"
				vaporTrailWidthInc=	"10"
				vaporTrailColor=	"0x57, 0x57, 0x00"
				>

			<FireEffect>
				<Flare
						style=				"fadingBlast"
						lifetime=			"20"
						radius=				"20"
						primaryColor=		"0xff, 0xd9, 0x91"
					/>
			</FireEffect>

			<Effect>
				<MoltenBolt
						width=				"3"
						growth=				"4"
						primaryColor=		"0xff, 0xed, 0xcd"
						secondaryColor=		"0xff, 0xb3, 0x27"
						/>
			</Effect>

		</Weapon>

	</ItemType>

<!-- Blast sprayer -->

	<ItemType UNID="&itblastsprayer;"
			name=				"behemoth blast sprayer"
			level=				"6"
			value=				"34000"
			mass=				"4000"
			frequency=			"uncommon"
			attributes=			"MajorItem; DigdugWeapons; BlastCannon; Military"
			unknownType=		"&itUnknownBlastCannon3;"
			description=		"This cannon shoots a spray of highly explosive projectiles. It was designed to stop incoming missiles and deal high damage at the same time."
			>

		<Image imageID="&rsItemsNAMI3;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>

		<Weapon
				type=				"particles"

				damage=				"blast:25; WMD2"
				fireRate=			"15"
				missileSpeed=		"60"
				lifetime=			"60"
				powerUse=			"400"

				particleCount=		"1d11+44"
				particleSpreadAngle="30"
				sound=				"&snRecoillessCannon;"
				>

			<Effect>
				<Image imageID="&rsMissiles4;" imageX="0" imageY="0" imageWidth="16" imageHeight="16" imageFrameCount="4" imageTicksPerFrame="1" randomStartFrame="true"/>
			</Effect>
		</Weapon>

	</ItemType>

<!-- Muramasa blaster -->

	<ItemType UNID="&itmuramasa;"
			name=				"Muramasa blaster"
			level=				"8"
			value=				"80000"
			mass=				"8000"
			frequency=			"rare"
			numberAppearing=	"1"
			attributes=			"MajorItem; DigdugWeapons; Military; Specialty; Thermocannon; Howitzer"
			unknownType=		"&itUnknownThermoCannon2;"
			description=		"The Muramasa blaster is a powerful ammoless themonuclear howitzer, not efficient as basecracker, but good against swarms."
			>

		<Image imageID="&rsItemsNAMI3;" imageX="96" imageY="96" imageWidth="96" imageHeight="96"/>

			<Weapon
				type=				"missile"

				damage=				"thermo:6d12; momentum3"
				fireRate=			"20"
				missileSpeed=		"40"
				lifetime=			"80"
				powerUse=			"900"
				fireEffect=			"&efMediumCannonFlash;"
				recoil=			"2"
				hitPoints=			"10"

				sound=				"&snRecoillessCannon;"
				>
						<Fragment
							count=			"6d4"
							type=			"missile"
							canHitSource=	"true"
							lifetime=		"15"
							damage=			"thermo:1d6+2; WMD2"
							missileSpeed=	"40-60"
							hitPoints=			"5"
							>
						<Image imageID="&rsMissiles;" imageX="0" imageY="128" imageWidth="16" imageHeight="16" imageFrameCount="6" imageTicksPerFrame="3"/>
					</Fragment>

			<Effect>
				<Image imageID="&rsMissiles;" imageX="0" imageY="32" imageWidth="16" imageHeight="16" imageFrameCount="12" imageTicksPerFrame="3"/>
			</Effect>


							
		</Weapon>

	</ItemType>

<!-- Positron Beam Weapon -->

	<ItemType UNID="&itmasamune;"
			name=				"Masamune disintegrator"
			level=				"9"
			value=				"175000"
			mass=				"2500"
			frequency=			"rare"
			attributes=			"EnergyWeapon; Military; MajorItem; DigdugWeapons; Positron"
			numberAppearing=	"1"
			unknownType=		"&itUnknownPositronWeapon;"
			description=		"The masamune disintegrator is an omnidirectional positron cannon, often mentioned for its incredible speed."
			>

		<Image imageID="&rsItems1;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>

		<Weapon
				type=				"missile"
				omnidirectional=		"true"
				damage=				"positron:1d12"
				fireRate=			"10"
				missileSpeed=		"100"
				lifetime=			"30"
				powerUse=			"1600"
				hitPoints=			"5"
				sound=				"&snLaserCannon;"
				>

			<Image imageID="&rsMissiles4;" imageX="0" imageY="64" imageWidth="16" imageHeight="16" imageFrameCount="4" imageTicksPerFrame="4"/>

			<Exhaust
					creationRate=	"10"
					lifetime=		"70"
					drag=			"80">

				<Image imageID="&rsMissiles4;" imageX="0" imageY="48" imageWidth="16" imageHeight="16" imageFrameCount="8" imageTicksPerFrame="10"/>
			</Exhaust>

		</Weapon>

	</ItemType>


<!-- Doomsday thermocannon -->

	<ItemType UNID="&itdoomsday;"
			name=				"doomsday thermocannon"
			level=				"10"
			value=				"380000"
			mass=				"14000"
			frequency=			"rare"
			attributes=			"MajorItem; DigdugWeapons; Military; Specialty"
			charges=			"1"
			numberAppearing=	"1"
			unknownType=		"&itUnknownThermoCannon4;"
			description=		"A single 750 megaton homing shell. Commonwealth Fleet decided to never use it fearing Ares retaliation with a similar weapon."
			>

		<Image imageID="&rsItemsNAMI4;" imageX="0" imageY="96" imageWidth="96" imageHeight="96"/>

		<Weapon
				
						type=			"missile"
						lifetime=		"480"
						damage=			"thermo:60d12; WMD7"
						missileSpeed=	"25"
						fireRate=			"40"
						powerUse=			"1000"
						fragmentCount=	"1"
						failsafe=		"15"
						charges=			"true"
						hitPoints=		"55"
						maneuverability = "10"
						hitEffect=		"&efFragmentationExplosion;"
						sound=			"&snMissileLauncher;"
						
						>
						
						<HitEffect
							sound="&snArmorHit1;"
							>
						<Image imageID="&rsExplosionsAG128;"
								imageX="0"
								imageY="0"
								imageWidth="128"
								imageHeight="128"
								imageFrameCount="16"
								imageTicksPerFrame="2"/>
					</HitEffect>
						
					<Effect>
						<Image imageID="&rsMissiles;" imageX="0" imageY="32" imageWidth="16" imageHeight="16" imageFrameCount="12" imageTicksPerFrame="3"/>
                        <SmokeTrail
							spread=			"4-6"
							particleLifetime="60"
							emitDuration=	"80"
							emitRate=		"16-20"
							emitSpeed=		"30-35"
							>
						<ParticleEffect>
							<Particle
									style=			"smoke"
									maxWidth=		"3-9"
									/>
						</ParticleEffect>
					</SmokeTrail>
					</Effect>
					
					<Fragment 
							count=			"1"
							type=			"radius"

							damage=			"thermo:1d24; WMD7"
							minRadius=		"1"
							maxRadius=		"4"
							missileSpeed=	"0"
							>

						<Effect>
							<Flare
									style=			"fadingBlast"
									radius=			"2500"
									primaryColor=	"0xff, 0xff, 0xf0"
									lifetime=		"10"
									/>
						</Effect>
					</Fragment>
					
					<Fragment 
							type=			"area"
							canHitSource=	"true"
							damage=			"plasma:60d12; momentum6; WMD7"
							expansionSpeed=	"15"
							missileSpeed=	"0"
							lifetime=		"400"
							>

						<Effect>
							<Shockwave
							
							>
								<Image imageID=				"&rsShockwave4;"
										imageX=				"0" 
										imageY=				"0" 
										imageWidth=			"512" 
										imageHeight=		"512"
										imageFrameCount=	"1"
										imageTicksPerFrame=	"1"/>
							</Shockwave>
						</Effect>
					</Fragment>
				
		</Weapon>

		<Events>
			<OnFireWeapon>
			(block (target distance)
			 (setq target (objgettarget gPlayership))
			 
			 (if target
			  (block Nil
			  (setq distance (sysVectorDistance (objGetPos gPlayership) (objGetPos target)))
			  (if (leq distance 120)
			   (block Nil
			   (objSendMessage gPlayerShip Nil "Beeep! you are too close to your target! \(120ls blast radius!\)")
			    (sysCreateWeaponFire &vtThermoCannonVirtualBeep; gSource (objGetPos gSource ) 0 0 Nil True)
			    (shpRechargeItem gSource gItem 1)
			    )
			   Nil
			   ))
			  (block Nil
			  (objSendMessage gPlayerShip Nil "Please choose a target to shoot.")
			   (sysCreateWeaponFire &vtThermoCannonVirtualBeep; gSource (objGetPos gSource ) 0 0 Nil True)
			   (shpRechargeItem gSource gItem 1)
			   )
			  )
			 )
			
			</OnFireWeapon>
		</Events>
			
	</ItemType>



<!-- Dust Cannon -->

	<ItemType UNID="&itdustcannon;"
			name=				"dust cannon"
			level=				"1"
			value=				"200"
			mass=				"1500"
			frequency=			"uncommon"
			attributes=			"MajorItem; DigdugWeapons; Cannon"
			showReference=		"true"
			unknownType=		"&itUnknownKineticCannon8;"
			description=		"This weapon collects interstellar dust and fire it at 50% of lightspeed."
			>

		<Image imageID="&rsItemsNAMI1;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>

		<Weapon
				type=				"particles"

				damage=				"kinetic:5"
				fireRate=			"15"
				missileSpeed=		"50"
				lifetime=			"60"
				powerUse=			"10"
				interaction=		"20"
				
				particleCount=		"1d11+11"
				particleSpreadAngle="10"
				sound=				"&snRecoillessCannon;"
				>

			<Effect>
				<Image imageID="&rsMissiles4;" imageX="0" imageY="0" imageWidth="16" imageHeight="16" imageFrameCount="4" imageTicksPerFrame="1" randomStartFrame="true"/>
			</Effect>
		</Weapon>

	</ItemType>

<!-- Mini Mining Laser -->

	<ItemType UNID="&itMiniMiningLaser;"
			name=				"mini mining laser"
			level=				"1"
			value=				"250"
			mass=				"1000"
			frequency=			"rare"
			attributes=			"EnergyWeapon; MajorItem; DigdugWeapons; Specialty; Laser; MinerGear"
			showReference=		"true"
			unknownType=		"&itUnknownLaserWeapon;"
			description=		"This mini laser is used for casual asteroid mining. Less efficient than a real mining laser, it can be installed externally without the aid of a space station."
			>

		<Image imageID="&rsItems1;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>
			

		<Weapon
				type=				"beam"
				deviceSlots=	"0"
				external=		"true"
				repeating=			"2"
				damage=				"laser:1d2; mining2"
				fireRate=			"30"
				lifetime=			"15"
				powerUse=			"20"

	sound=				"&snLaserCannon;"
				>
			<Effect>
				<Beam
						beamType=			"laser"
						primaryColor=		"0x5f, 0xf5, 0x2e"
						secondaryColor=		"0x00, 0xff, 0x00"
						/>
			</Effect>
		</Weapon>
	<Invoke>
		(intAutoInstall gSource gItem)
	</Invoke>

	</ItemType>

<!-- Neutron Accelerator-->

	<ItemType UNID="&itneutronaccelerator;"
			name=				"neutron accelerator"
			level=				"3"
			value=				"2900"
			mass=				"1500"
			frequency=			"rare"
			attributes=			"EnergyWeapon; MajorItem; DigdugWeapons; Particle"
			unknownType=		"&itUnknownParticleCannon5;"
			description=		"This small linear accelerator fires coesive burst of neutrons."
			>

		<Image imageID="&rsItemsEI2;" imageX="288" imageY="0" imageWidth="96" imageHeight="96"/>

		<Weapon
				type=				"beam"

				damage=				"particle:1d6"
				fireRate=			"10"
				lifetime=			"30"
				powerUse=			"90"

sound=				"&snLaserCannon;"
				>
			<Effect>
				<Beam
						beamType=		"particle"
						primaryColor=	"0x5f, 0xf1, 0x2a"
						secondaryColor=	"0x5f, 0xf1, 0x2a"
						intensity=		"1"
						/>
			</Effect>

		</Weapon>

	</ItemType>


<!-- Blackhole generator -->

	<ItemType UNID="&itblackholegenerator;"
			name=				"Blackhole generator"
			level=				"8"
			value=				"110000"
			mass=				"8500"
			frequency=			"rare"
			numberAppearing=	"1"
			attributes=			"Alien; MajorItem; DigdugWeapons; Singularity; Military"
			unknownType=		"&itUnknownAlienDevice10;"
			description=		"Mini blackholes generated by this cannon cannot be stopped by shields."
			>

		<Image imageID="&rsItems1;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>

		<Weapon
				type=				"missile"

				damage=				"singularity:1d4; WMD7"
				fireRate=			"15"
				missileSpeed=		"80"
				lifetime=			"40"
				powerUse=			"1200"
				interaction=		"3"
				

				hitPoints=			"30"
				fireEffect=			"&efMediumCannonFlash;"
				vaporTrailLength=	"35"
				vaporTrailWidth=	"50"
				vaporTrailWidthInc=	"10"
				vaporTrailColor=	"0xaa, 0xaa, 0xff"

				
				sound=				"&snRecoillessCannon;"
				>


			<Effect>
				<Starburst
						spikeCount=		"1d6+2"
						spikeLength=	"3d10"
						primaryColor=	"0x00, 0x00, 0xff"
						secondaryColor=	"0xff, 0xff, 0xff"
						/>
			</Effect>

		</Weapon>
		
		<Events>
			<OnDamageShields>
				aShieldDamageHP 
			</OnDamageShields>
		</Events>

	</ItemType>

<!-- Ice Shards Cannon -->

	<ItemType UNID="&iticecannon;"
			name=				"Ice shards cannon"
			level=				"3"
			value=				"1800"
			mass=				"3000"
			frequency=			"rare"
			attributes=			"MajorItem; DigdugWeapons; Cannon"
			unknownType=		"&itUnknownKineticCannon2;"
			description=		"Anything launched with sufficient speed can be deadly. This cannon uses the cheapest thing that can be stored in a barrel: water."
			>

		<Image imageID="&rsItemsNAMI1;" imageX="96" imageY="192" imageWidth="96" imageHeight="96"/>

		<Weapon
				fireRate=			"15"
				powerUse=			"20"
				
				>
			<Missiles>
				<Missile ammoID="&itIceShardVirtualAmmo;"
						type=				"missile"

						damage=				"kinetic:4d8+2; momentum1; WMD1"
						missileSpeed=		"50"
						lifetime=			"60"
						interaction=		"80"

						sound=				"&snRecoillessCannon;"
						>
					<Effect>
						<Image imageID="&rsIceShards;" imageX="0" imageY="0" imageWidth="16" imageHeight="16" imageFrameCount="8" imageTicksPerFrame="1" randomStartFrame="true"/>
					</Effect>
				</Missile>
			</Missiles>
		</Weapon>
		<Events>
			<onFireWeapon>
				(block (shot speed charges)
					; check charges
					(setq charges (itmGetCharges gItem))
					(if (gr charges 0)
						(shpRechargeItem gsource gItem -1)
						; remove fuel rod and replenish charges
						(block (ammotype)
							(if (objHasItem gsource (itmCreate &itWaterIce; 1))
								(setq ammotype &itWaterIce;)
								(if (objHasItem gsource (itmCreate &itHeavyWater; 1))
									(setq ammotype &itHeavyWater;)
								)
							)
							; give charges
							(switch
								(eq &itHeavyWater; ammotype)
									(shpRechargeItem gsource gItem 59)
								(eq &itWaterIce; ammotype)
									(shpRechargeItem gsource gItem 59)
							)
							(objRemoveItem gSource (itmCreate ammotype 1))
						)
					)
					; and the normal shot
					nil
				)
			</onFireWeapon>
			<onUpdate>
				(block (ice water charges shots realshots)
					; count charges
					(setq charges (itmGetCharges gItem))
					; count fuel
					(objEnumItems gSource "*" theItem
						(switch 
							(eq (itmGetUnid theItem) &itHeavyWater;)
								(setq water (itmGetCount theItem))
							(eq (itmGetUnid theItem) &itWaterIce;)
								(setq ice (itmGetCount theItem))
						)
					)
					; count shots
					(objEnumItems gSource "*V" theItem
						(if (eq (itmGetUnid theItem) &itIceShardVirtualAmmo;)
							(setq shots (itmGetCount theItem))
						)
					)
					(setq realshots (add (multiply 60 ice) (multiply 60 water) charges))
					(switch
						(gr realshots shots)
							(objadditem gSource (itmCreate &itIceShardVirtualAmmo; (subtract realshots shots)))
						(ls realshots shots)
							(objremoveitem gSource (itmCreate &itIceShardVirtualAmmo; (subtract shots realshots)))
					)
				)
			</onUpdate>
		</Events>

	</ItemType>

	<ItemType UNID="&itIceShardVirtualAmmo;"
			name=				"<virtual ammo>"
			level=				"1"
			virtual=			"true"
			attributes=			"Consumable; Missile"
			>
	</ItemType>

<!-- Ronin -->

	<ItemType UNID="&itroninblaster;"
			name=				"Ronin blaster"
			level=				"5"
			value=				"9500"
			mass=				"3000"
			frequency=			"rare"
			numberAppearing=	"1"
			attributes=			"EnergyWeapon; MajorItem; DigdugWeapons; Particle; sungSlavers"
			unknownType=		"&itUnknownParticleCannon2;"
		

			description=		"The Ronin blaster creates huge balls of supercharged particles. The firing rate is poor, but each shot cripple most non military armors."
			
			>

		<Image imageID="&rsItemsEI2;" imageX="288" imageY="0" imageWidth="96" imageHeight="96"/>

		<Weapon
				type=				"missile"
				
				damage=				"particle:35; momentum3"
				fireRate=			"25"
				missileSpeed=		"70"
				lifetime=			"40"
				powerUse=			"350"
				hitpoints=			"10"

				sound=				"&snLaserCannon;"
				>

			<Effect>
				<Image imageID="&rsshots;" imageX="0" imageY="0" imageWidth="64" imageHeight="64" imageFrameCount="0" imageTicksPerFrame="0"/>
			</Effect>

		</Weapon>

	</ItemType>
<!-- tau cannon -->

	<ItemType UNID="&itTauCannon;"
			name=				"tau cannon"
			level=				"6"
			value=				"25500"
			mass=				"4000"
			frequency=			"rare"
			attributes=			"EnergyWeapon; Military; MajorItem; DigdugWeapons; Specialty; Ion; Ventari"
		
			unknownType=		"&itUnknownIonCannon4;"
			description=		"This exotic matter cannon launches packs of high-energy tau particles."
			
			>

		<Image imageID="&rsItemsEI3;" imageX="288" imageY="0" imageWidth="96" imageHeight="96"/>

		<Weapon
				type=				"missile"
				
				damage=				"ion:45; momentum3"
				fireRate=			"25"
				missileSpeed=		"45"
				lifetime=			"30"
				powerUse=			"600"
				hitPoints=			"15"
				

				sound=				"&snLaserCannon;"
				>

				<hiteffect>
					<Flare
							style=				"fadingBlast"
							lifetime=			"30"
							radius=				"30"
							primaryColor=		"0xaa, 0xff, 0xf0"
						/>
				</hiteffect>
			<Effect>	
							<Image imageID="&rstorps;" imageX="0" imageY="0" imageWidth="20" imageHeight="20" imageFrameCount="10" imageTicksPerFrame="2"/>
			</Effect>
		</Weapon>
	</ItemType>


	<!-- Raw Energy Launcher -->

	<ItemType UNID="&itRawEnergyLauncher;"
			name=				"Raw Energy Launcher"
			level=				"5"
			value=				"7500"
			mass=				"2000"
			frequency=			"rare"
			attributes=			"MajorItem; DigdugWeapons; Military; Plasma; Thermocannon; Ammo; Launcher"
			
			description=		"The chamber of this launcher is designed to process a large variety of matter: refined fuel rods, uranium rods, and even rare elements crystals can be used as ammo."
			>

		<Image imageID="&rsItemsNAMI2;" imageX="0" imageY="0" imageWidth="96" imageHeight="96"/>

		<Weapon
				fireRate=			"30"
				powerUse=			"20"
				launcher=			"true"
				>

			<Missiles>
				<Missile ammoID="&itHelium3FuelRod;"
						type=			"missile"
						lifetime=		"120"
						damage=			"plasma:4d6+6; momentum4; WMD4"
						missileSpeed=	"40"
						
						hitPoints=		"10"
						
						sound=			"&snMissileLauncher;"
						vaporTrailLength="16"
						vaporTrailWidth="55"
						vaporTrailWidthInc="5"
						vaporTrailColor="0x9c, 0xd6, 0x9c"
						>

					<Image imageID="&rstorps;" imageX="0" imageY="20" imageWidth="20" imageHeight="20" imageFrameCount="5" imageTicksPerFrame="3"/>

					</Missile>

				<Missile ammoID="&itHeliumAssembly;"
						type=			"missile"
						lifetime=		"120"
						damage=			"plasma:6d6+6; momentum4; WMD4"
						missileSpeed=	"40"
						hitPoints=		"10"
						sound=			"&snMissileLauncher;"
						vaporTrailLength="16"
						vaporTrailWidth="55"
						vaporTrailWidthInc="5"
						vaporTrailColor="0x9c, 0xd6, 0x9c"
						>
					<Image imageID="&rstorps;" imageX="0" imageY="20" imageWidth="20" imageHeight="20" imageFrameCount="5" imageTicksPerFrame="3"/>

						<Fragment 
							count=				"24"
							type=				"beam"

							damage=				"laser:3d8; WMD5"
							lifetime=			"4"
							>
							<Effect>
							<Beam
									beamType=			"heavyblaster"
									primaryColor=		"0x45, 0xe9, 0x45"
									secondaryColor=		"0xff, 0xff, 0x80"
									/>
							</Effect>
						</Fragment>

				</Missile>

				<Missile ammoID="&itXenotiteFuelRod;"
						type=			"missile"
						lifetime=		"120"
						damage=			"plasma:8d6; momentum4; WMD4"
						missileSpeed=	"40"
						hitPoints=		"10"
						
						sound=			"&snMissileLauncher;"
						vaporTrailLength="16"
						vaporTrailWidth="110"
						vaporTrailWidthInc="5"
						vaporTrailColor="0x9c, 0xd6, 0x9c"
						>
					<Image imageID="&rstorps;" imageX="0" imageY="20" imageWidth="20" imageHeight="20" imageFrameCount="5" imageTicksPerFrame="3"/>
					<Fragment 
							count=				"36"
							type=				"beam"

							damage=				"laser:3d8+1; WMD5"
							lifetime=			"5"

							beamType=			"heavyblaster"
							primaryColor=		"0x45, 0xe9, 0x45"
							secondaryColor=		"0xff, 0xff, 0x80"
							intensity=			"4"
							/>

				</Missile>

				<Missile ammoID="&itPteracniumFuelRod;"
						type=			"missile"
						lifetime=		"120"
						damage=			"plasma:10d6; radiation1; momentum4; WMD7"
						missileSpeed=	"40"
						hitPoints=		"10"
						hitEffect=		"&efFragmentationExplosion;"
						sound=			"&snMissileLauncher;"
						vaporTrailLength="16"
						vaporTrailWidth="55"
						vaporTrailWidthInc="5"
						vaporTrailColor="0x49, 0xff, 0x49"
						>
					<Image imageID="&rsshots;" imageX="0" imageY="64" imageWidth="64" imageHeight="64" imageFrameCount="0" imageTicksPerFrame="0"/>
				<Fragment 
							count=			"1"
							type=			"radius"

							damage=			"plasma:10d6; momentum6; WMD7"
							minRadius=		"1"
							maxRadius=		"4"
							missileSpeed=	"0"
							lifetime=		"8"
							>

						<Effect>
							<Flare
									style=				"fadingBlast"
									radius=				"170"
									primaryColor=		"0xc6, 0xf6, 0xc0"
								/>
						</Effect>
					</Fragment>
</Missile>

						<Missile ammoID="&itHadronVacuumFuelCell;"
						type=			"missile"
						lifetime=		"120"
						damage=			"plasma:6d6; radiation1; momentum5; WMD7"
						missileSpeed=	"40"
						hitPoints=		"10"
						hitEffect=		"&efFragmentationExplosion;"
						sound=			"&snMissileLauncher;"
						vaporTrailLength="60"
						vaporTrailWidth="77"
						vaporTrailWidthInc="5"
						vaporTrailColor="0x00, 0xff, 0x00"

						>
					<Image imageID="&rsshots;" imageX="64" imageY="0" imageWidth="64" imageHeight="64" imageFrameCount="0" imageTicksPerFrame="0"/>
				<Fragment 
							count=			"1"
							type=			"radius"

							damage=			"thermo:6d24; momentum6; WMD7"
							minRadius=		"1"
							maxRadius=		"4"
							missileSpeed=	"0"
							canHitSource=	"true"
							
							vaporTrailLength="4"
							vaporTrailWidth="55"
							vaporTrailWidthInc="0"
							vaporTrailColor="0x00, 0xff, 0x00"
							>
						<Effect>
							<Flare
									style=			"fadingBlast"
									radius=			"230"
									primaryColor=	"0xaa, 0xaa, 0x00"
									lifetime=		"10"
									/>
						</Effect>
					</Fragment>
					
</Missile>

						<Missile ammoID="&itUraniumRods;"
						type=			"missile"
						lifetime=		"120"
						damage=			"thermo:5d6+12; momentum3; WMD4"
						missileSpeed=	"40"
						hitPoints=		"10"
						hitEffect=		"&efFragmentationExplosion;"
						sound=			"&snMissileLauncher;"
						vaporTrailLength="16"
						vaporTrailWidth="55"
						vaporTrailWidthInc="5"
						vaporTrailColor="0xff, 0x00, 0x00"
						>
					<Image imageID="&rstorps;" imageX="0" imageY="40" imageWidth="20" imageHeight="20" imageFrameCount="5" imageTicksPerFrame="3"/>

						<Fragment 
							count=			"2d5"
							type=			"missile"
							canHitSource=	"true"
							
							damage=			"thermo:4d6; WMD4"
							missileSpeed=	"30"
							lifetime=		"8"
							
							vaporTrailLength="4"
							vaporTrailWidth="55"
							vaporTrailWidthInc="0"
							vaporTrailColor="0xff, 0x4f, 0x4f"
							>
						<Image imageID="&rsMissiles4;" imageX="0" imageY="64" imageWidth="16" imageHeight="16" imageFrameCount="4" imageTicksPerFrame="2"/>
					</Fragment>

				</Missile>
						
						<Missile ammoID="&itCrystallineUranium;"
						type=			"missile"
						lifetime=		"120"
						damage=			"thermo:15d6+12; momentum5; WMD5"
						missileSpeed=	"40"
						hitPoints=		"10"
						hitEffect=		"&efFragmentationExplosion;"
						sound=			"&snMissileLauncher;"
						vaporTrailLength="16"
						vaporTrailWidth="55"
						vaporTrailWidthInc="5"
						vaporTrailColor="0xff, 0x00, 0x00"
						>
					<Image imageID="&rstorps;" imageX="0" imageY="40" imageWidth="20" imageHeight="20" imageFrameCount="5" imageTicksPerFrame="3"/>

						<Fragment 
							count=			"6d12"
							type=			"missile"
							canHitSource=	"true"
							
							damage=			"thermo:4d12; WMD6"
							missileSpeed=	"40-60"
							lifetime=		"8"
							
							vaporTrailLength="4"
							vaporTrailWidth="55"
							vaporTrailWidthInc="0"
							vaporTrailColor="0xff, 0x4f, 0x4f"
							>
						<Image imageID="&rsMissiles4;" imageX="0" imageY="64" imageWidth="16" imageHeight="16" imageFrameCount="4" imageTicksPerFrame="2"/>
					</Fragment>

				</Missile>



			</Missiles>

		</Weapon>

	</ItemType>



<!-- Zatoichi Blaster -->

	<ItemType UNID="&itzatoichi;"
			name=				"Zatoichi Blaster"
			level=				"6"
			value=				"26000"
			mass=				"8000"
			frequency=			"rare"
			attributes=			"MajorItem; DigdugWeapons; Military; Specialty; BlastCannon; Ranx"
			unknownType=		"&itUnknownBlastCannon3;"
			description=		"The Zatoichi blaster creates a cluster of hexagene fragments. Even if it's slower than the Akan, this ammoless spreading weapon is more versatile."
			>

		<Image imageID="&rsItemsRasiermesser3;" imageX="96" imageY="96" imageWidth="96" imageHeight="96"/>

		<Weapon
				type=				"missile"
				configuration=		"spread5"
				
				damage=				"blast:2d8; WMD3"
				fireRate=			"20"
				missileSpeed=		"40"
				lifetime=			"60"
				powerUse=			"60"
				hitPoints=		"4"
				
								
				sound=				"&snRecoillessCannon;"
				>
			<Effect>
				<Image imageID="&rsMissiles;" imageX="0" imageY="0" imageWidth="16" imageHeight="16" imageFrameCount="0" imageTicksPerFrame="0"/>

			</Effect>
							
		</Weapon>

	</ItemType>


	

<!-- EMP Pulse -->

<ItemType UNID="&itEMPPulse;"
		name=				"EMP Pulse Launcher"
		level=				"4"
			value=				"4000"
			mass=				"1000"
			frequency=			"rare"
			attributes=			"Disposable; MajorItem; DigdugWeapons; Launcher; NAMI"
			charges=			"32"
			valueCharges=		"true"
			unknownType=		"&itUnknownMissileRack4;"
			description=		"This disposable device creates powerful shockwaves that disables nearby ships for a short time."
			>
		<Image imageID="&rsItemsNAMI2;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>

	<Weapon
			type=				"area"
			launcher=			"true"
			damage=				"ion:5d6; EMP3; shield2"
			fireRate=			"30"
			expansionSpeed=		"40"
			missileSpeed=		"0"
			interaction=		"20"
			lifetime=			"50"
			powerUse=			"200"
			charges=			"true"
			sound=				"&snLaserCannon;"

			>

		<Effect>
			<Shockwave>
				<Image imageID=				"&rsShockwave1;"
						imageX=				"0" 
						imageY=				"128" 
						imageWidth=			"512" 
						imageHeight=		"64"
						imageFrameCount=	"1"
						imageTicksPerFrame=	"1"/>
			</Shockwave>
		</Effect>

	</Weapon>
		<Invoke>
			(intAutoInstall gSource gItem)
		</Invoke>

</ItemType>

<!--	NB: suggest reimplementing as autodefensedevice so AI can use it.	-->
<!-- Circle Beam -->

<ItemType UNID="&itcirclebeam;"
		name=				"Circle beam"
		level=				"10"
			value=				"780000"
			mass=				"6000"
			frequency=			"rare"
			attributes=			"EnergyWeapon; MajorItem; DigdugWeapons; Ion; Military; Alien; NotForSale"
			unknownType=		"&itUnknownAlienDevice10;"
			description=		"This device is a modified shield generator that creates a circular ion beam around a starship. The lethal burst of ion is defensive and offensive at the same time."
			>
		<Image imageID="&rsItems1;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>
		
	<Weapon
			type=				"area"
			
			damage=				"ion:2d20"
			fireRate=			"15"
			expansionSpeed=		"40"
			missileSpeed=		"0"
			lifetime=			"20"
			powerUse=			"3800"
			
			sound=				"&snLaserCannon;"

			>
			<Effect>
<Image imageID="&rscirclebeam;" 
				imageX="0" 
				imageY="0" 
				imageWidth="142" 
				imageHeight="142"
				imageFrameCount="20"
				imageTicksPerFrame="1"/>

			</Effect>


		</Weapon>

	</ItemType>

	<!-- Mining Ablator -->

	<ItemType UNID="&itMiningAblator;"
			name=				"advanced mining ablator"
			level=				"5"
			value=				"6500"
			mass=				"2000"
			frequency=			"rare"
			attributes=			"EnergyWeapon; MajorItem; DigdugWeapons; Specialty; Laser; MinerGear"
			showReference=		"true"
			unknownType=		"&itUnknownLaserWeapon4;"
			description=		"This is the most powerful mining laser available to the Commonwealth. The massive power of the converging beams is focused at a very short range."
			>

		<Image imageID="&rsItems1;" imageX="96" imageY="0" imageWidth="96" imageHeight="96"/>

		<Weapon
				type=				"beam"

				repeating=			"4"
				damage=				"laser:4d4; mining5"
				fireRate=			"30"
				lifetime=			"16"
				powerUse=			"140"

				hitEffect=			"&efCornflowerLaserHitEffect;" 
				sound=				"&snLaserCannon;"
				>
			<Effect>
				<Beam
						beamType=			"laser"
						primaryColor=		"0xff, 0xff, 0xff"
						secondaryColor=		"0xc0, 0xc0, 0xc0"
						/>
			</Effect>
				
			<Configuration aimTolerance="5">
				<Shot posAngle="90" posRadius="20" angle="-2"/>
				<Shot posAngle="270" posRadius="20" angle="2"/>
			</Configuration>
		</Weapon>

	</ItemType>


</TranscendenceModule>